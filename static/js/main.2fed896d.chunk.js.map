{"version":3,"sources":["lib/helpers.js","utils/Bus.js","components/BootstrapSpinner.js","components/Navbar.js","components/Flashes.js","lib/useIsMounted.js","lib/useIsLoading.js","components/Card.js","components/Cards.js","components/Posts.js","components/SubmitBtn.js","components/PostCommentForm.js","components/PostComments.js","components/Post.js","components/SignUpForm.js","components/SignInForm.js","App.js","reportWebVitals.js","index.js"],"names":["getData","a","url","fetch","method","headers","Authorization","localStorage","getItem","response","json","postData","data","body","JSON","stringify","handleExpressErr","err","window","flashes","msg","message","EventEmitter","BootstrapSpinner","type","size","className","style","width","height","role","Navbar","user","signOut","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","exact","activeClassName","aria-haspopup","username","onClick","Flashes","useState","setFlashes","useEffect","Bus","addListener","flashesWithId","map","flash","nanoid","length","timeoutId","setTimeout","clearTimeout","Fragment","flashId","newFlashes","filter","deleteFlash","aria-hidden","useIsMounted","isMounted","setIsMouted","useIsLoading","asyncFunc","isLoading","setIsLoading","finally","Card","item","title","author","firstName","lastName","format","Date","createdAt","_id","comments","Cards","cards","items","Posts","getPosts","isGettingPosts","postsWithComments","setPostsWithComments","fetchPosts","fetchAndAttachPostsToComments","posts","Promise","all","post","process","newPostsWithComments","SubmitBtn","text","isSubmitting","disabled","defaultProps","PostCommentForm","postId","updatePostComments","submitFormData","state","setState","e","preventDefault","prevState","errors","comment","onSubmit","htmlFor","name","value","onChange","target","required","maxLength","PostComments","postComments","postComment","Post","useParams","history","useHistory","getPost","isGettingPost","postWithComments","setPostWithComments","fetchPostComments","fetchPost","includes","status","push","published","SignUpForm","password","confirmPassword","handleInputChange","userFormData","placeholder","minLength","SignInForm","setUser","setItem","token","App","emit","getCurrentUser","intervalId","setInterval","clearInterval","removeItem","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","config","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.2fed896d.chunk.js","sourcesContent":["async function getData(url = '') {\n\tconst response = await fetch(url, {\n\t\tmethod: 'GET',\n\t\theaders: {\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t});\n\treturn response.json();\n}\n\nasync function postData(url = '', data = {}) {\n\tconst response = await fetch(url, {\n\t\tmethod: 'POST',\n\t\theaders: {\n\t\t\t'Content-Type': 'application/json',\n\t\t\tAuthorization: `Bearer ${localStorage.getItem('jwt')}`,\n\t\t},\n\t\tbody: JSON.stringify(data),\n\t});\n\treturn response.json();\n}\n\nfunction handleExpressErr(err) {\n\twindow.flashes([{ msg: err.message }]);\n}\n\nexport { getData, postData, handleExpressErr };\n","import EventEmitter from 'events';\n\nexport default new EventEmitter();\n","import PropTypes from 'prop-types';\nimport '../css/BootstrapSpinner.css';\n\nfunction BootstrapSpinner({ type, size }) {\n\treturn (\n\t\t<div className=\"BootstrapSpinner\">\n\t\t\t<div\n\t\t\t\tclassName={`spinner-${type} text-primary`}\n\t\t\t\tstyle={{ width: size, height: size }}\n\t\t\t\trole=\"status\"\n\t\t\t>\n\t\t\t\t<span className=\"sr-only\">Loading...</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nBootstrapSpinner.propTypes = {\n\ttype: PropTypes.string.isRequired,\n\tsize: PropTypes.string.isRequired,\n};\n\nexport default BootstrapSpinner;\n","import PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nfunction Navbar({ user, signOut }) {\n\treturn (\n\t\t<nav className=\"navbar navbar-expand-lg navbar-dark bg-primary sticky-top mb-4\">\n\t\t\t<NavLink to=\"/\" className=\"navbar-brand\">\n\t\t\t\tBlog User\n\t\t\t</NavLink>\n\t\t\t<button\n\t\t\t\tclassName=\"navbar-toggler\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tdata-toggle=\"collapse\"\n\t\t\t\tdata-target=\"#navbarSupportedContent\"\n\t\t\t\taria-controls=\"navbarSupportedContent\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t\taria-label=\"Toggle navigation\"\n\t\t\t>\n\t\t\t\t<span className=\"navbar-toggler-icon\"></span>\n\t\t\t</button>\n\t\t\t<div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n\t\t\t\t<ul className=\"navbar-nav ml-auto\">\n\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\tto=\"/posts\"\n\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tPosts\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</li>\n\t\t\t\t\t{user ? (\n\t\t\t\t\t\t<li className=\"nav-item dropdown\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclassName=\"nav-link btn btn-link dropdown-toggle\"\n\t\t\t\t\t\t\t\tid=\"navbarDropdown\"\n\t\t\t\t\t\t\t\tdata-toggle=\"dropdown\"\n\t\t\t\t\t\t\t\taria-haspopup=\"true\"\n\t\t\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{user.username}\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<div className=\"dropdown-menu dropdown-menu-right\">\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"dropdown-item\"\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\tonClick={signOut}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign out\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/sign-up\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign Up\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className=\"nav-item\">\n\t\t\t\t\t\t\t\t<NavLink\n\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\tto=\"/sign-in\"\n\t\t\t\t\t\t\t\t\tclassName=\"nav-link\"\n\t\t\t\t\t\t\t\t\tactiveClassName=\"active\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</nav>\n\t);\n}\n\nNavbar.propTypes = {\n\tuser: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]).isRequired,\n\tsignOut: PropTypes.func.isRequired,\n};\n\nexport default Navbar;\n","import React, { useState, useEffect } from 'react';\nimport { nanoid } from 'nanoid';\nimport Bus from '../utils/Bus';\n\nfunction Flashes() {\n\tconst [flashes, setFlashes] = useState([]);\n\n\tfunction deleteFlash(flashId) {\n\t\tconst newFlashes = flashes.filter((flash) => flash.id !== flashId);\n\t\tsetFlashes(newFlashes);\n\t}\n\n\tuseEffect(() => {\n\t\tBus.addListener('flashes', (flashes) => {\n\t\t\tconst flashesWithId = flashes.map((flash) => ({\n\t\t\t\t...flash,\n\t\t\t\tid: nanoid(),\n\t\t\t}));\n\t\t\tsetFlashes(flashesWithId);\n\t\t});\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (flashes.length > 0) {\n\t\t\tconst timeoutId = setTimeout(() => setFlashes([]), 4000);\n\t\t\treturn () => clearTimeout(timeoutId);\n\t\t}\n\t}, [flashes]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t{flashes.map((flash) => (\n\t\t\t\t<div\n\t\t\t\t\tkey={flash.id}\n\t\t\t\t\tclassName={`alert alert-${flash.type || 'danger'} alert-dismissible`}\n\t\t\t\t\trole=\"alert\"\n\t\t\t\t>\n\t\t\t\t\t{flash.msg}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName=\"close\"\n\t\t\t\t\t\taria-label=\"Close\"\n\t\t\t\t\t\tonClick={() => deleteFlash(flash.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t))}\n\t\t</React.Fragment>\n\t);\n}\n\nexport default Flashes;\n","import { useEffect, useState } from 'react';\n\nconst useIsMounted = () => {\n\tconst [isMounted, setIsMouted] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetIsMouted(true);\n\t\treturn () => setIsMouted(false);\n\t}, []);\n\n\treturn isMounted;\n};\nexport default useIsMounted;\n","import { useState } from 'react';\n\nconst useIsLoading = (asyncFunc) => {\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst invokeAsyncFunc = (...args) => {\n\t\tsetIsLoading(true);\n\t\treturn asyncFunc(...args).finally(() => setIsLoading(false));\n\t};\n\n\treturn [invokeAsyncFunc, isLoading];\n};\n\nexport default useIsLoading;\n","import PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport format from 'date-fns/format';\n\nfunction Card({ item }) {\n\treturn (\n\t\t<div className=\"card mb-2\">\n\t\t\t<div className=\"card-header\">\n\t\t\t\t<h5 className=\"card-title\">{item.title}</h5>\n\t\t\t\t<p className=\"card-subtitle mb-2\">\n\t\t\t\t\t{item.author.firstName + ' ' + item.author.lastName}\n\t\t\t\t</p>\n\t\t\t\t<p className=\"card-subtitle\">\n\t\t\t\t\t{format(new Date(item.createdAt), 'PPpp')}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"card-body\">\n\t\t\t\t<p className=\"card-text\">{item.body}</p>\n\t\t\t\t<Link to={`/posts/${item._id}`} className=\"card-link\">\n\t\t\t\t\t{item.comments.length} comments\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nCard.propTypes = {\n\titem: PropTypes.object.isRequired,\n};\n\nexport default Card;\n","import PropTypes from 'prop-types';\nimport Card from './Card';\n\nfunction Cards({ items }) {\n\tconst cards = items.map((item) => <Card key={item._id} item={item} />);\n\n\treturn <section>{cards}</section>;\n}\n\nCards.propTypes = {\n\titems: PropTypes.array.isRequired,\n};\n\nexport default Cards;\n","import { useState, useEffect } from 'react';\nimport useIsMounted from '../lib/useIsMounted';\nimport useIsLoading from '../lib/useIsLoading';\nimport { getData, handleExpressErr } from '../lib/helpers';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport Cards from './Cards';\n\nfunction Posts() {\n\tconst isMounted = useIsMounted();\n\tconst [getPosts, isGettingPosts] = useIsLoading(fetchAndSetPostsWithComments);\n\n\tconst [postsWithComments, setPostsWithComments] = useState([]);\n\n\tasync function fetchAndSetPostsWithComments(isMounted) {\n\t\tasync function fetchPosts() {\n\t\t\ttry {\n\t\t\t\tconst data = await getData(`${process.env.REACT_APP_API_URL}/posts`);\n\t\t\t\tif (data.err) {\n\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t} else {\n\t\t\t\t\treturn data.posts;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\tasync function fetchAndAttachPostsToComments(posts) {\n\t\t\ttry {\n\t\t\t\tconst postsWithComments = await Promise.all(\n\t\t\t\t\tposts.map(async (post) => {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconst data = await getData(\n\t\t\t\t\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${post._id}/comments`\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (data.err) {\n\t\t\t\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn { ...post, comments: data.comments };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\twindow.flashes([\n\t\t\t\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\treturn postsWithComments;\n\t\t\t} catch (err) {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\tif (isMounted) {\n\t\t\tconst posts = await fetchPosts();\n\t\t\tconst newPostsWithComments = await fetchAndAttachPostsToComments(posts);\n\t\t\tsetPostsWithComments(newPostsWithComments);\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetPosts(isMounted);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isMounted]);\n\n\treturn isGettingPosts ? (\n\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t) : (\n\t\t<Cards items={postsWithComments} />\n\t);\n}\n\nexport default Posts;\n","import PropTypes from 'prop-types';\n\nfunction SubmitBtn({ text, isSubmitting }) {\n\treturn isSubmitting ? (\n\t\t<button type=\"submit\" className=\"btn btn-primary w-100\" disabled>\n\t\t\t<span\n\t\t\t\tclassName=\"spinner-border spinner-border-sm\"\n\t\t\t\trole=\"status\"\n\t\t\t\taria-hidden=\"true\"\n\t\t\t></span>\n\t\t\tSubmitting...\n\t\t</button>\n\t) : (\n\t\t<button type=\"submit\" className=\"btn btn-primary w-100\">\n\t\t\t{text}\n\t\t</button>\n\t);\n}\n\nSubmitBtn.defaultProps = {\n\ttext: 'Submit',\n};\n\nSubmitBtn.propTypes = {\n\ttext: PropTypes.string.isRequired,\n\tisSubmitting: PropTypes.bool.isRequired,\n};\n\nexport default SubmitBtn;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport useIsMounted from '../lib/useIsMounted';\nimport useIsLoading from '../lib/useIsLoading';\nimport { postData, handleExpressErr } from '../lib/helpers';\nimport SubmitBtn from './SubmitBtn';\n\nfunction PostCommentForm({ postId, updatePostComments }) {\n\tconst isMounted = useIsMounted();\n\tconst [submitFormData, isSubmitting] = useIsLoading(postData);\n\n\tconst [state, setState] = useState({\n\t\tbody: '',\n\t});\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tconst data = await submitFormData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}/comments`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tif (isMounted) {\n\t\t\t\tsetState((prevState) => ({ ...prevState, body: '' }));\n\t\t\t\tupdatePostComments(postId);\n\t\t\t}\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Comment successfully created', type: 'success' },\n\t\t\t]);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else if (data.errors) {\n\t\t\t\tisMounted &&\n\t\t\t\t\tsetState((prevState) => ({\n\t\t\t\t\t\t...prevState,\n\t\t\t\t\t\tbody: data.comment.body,\n\t\t\t\t\t}));\n\t\t\t\twindow.flashes(data.errors);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={handleSubmit} className=\"mb-2\">\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"body\">Write a comment</label>\n\t\t\t\t<textarea\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"body\"\n\t\t\t\t\tname=\"body\"\n\t\t\t\t\tvalue={state.body}\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength={200}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn text={'Comment'} isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nPostCommentForm.propTypes = {\n\tpostId: PropTypes.string.isRequired,\n\tupdatePostComments: PropTypes.func.isRequired,\n};\n\nexport default PostCommentForm;\n","import PropTypes from 'prop-types';\nimport format from 'date-fns/format';\n\nfunction PostComments({ postComments }) {\n\treturn postComments.length > 0 ? (\n\t\t<ul className=\"list-group\">\n\t\t\t{postComments.map((postComment) => (\n\t\t\t\t<li key={postComment._id} className=\"list-group-item\">\n\t\t\t\t\t<p className=\"h6 mb-1\">\n\t\t\t\t\t\t{postComment.author.firstName + ' ' + postComment.author.lastName}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"text-muted mb-2\">\n\t\t\t\t\t\t{format(new Date(postComment.createdAt), 'PPpp')}\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"mb-2\">{postComment.body}</p>\n\t\t\t\t</li>\n\t\t\t))}\n\t\t</ul>\n\t) : null;\n}\n\nPostComments.propTypes = {\n\tpostComments: PropTypes.array.isRequired,\n};\n\nexport default PostComments;\n","import { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useParams, useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport useIsLoading from '../lib/useIsLoading';\nimport { getData, handleExpressErr } from '../lib/helpers';\nimport BootstrapSpinner from '../components/BootstrapSpinner';\nimport Card from './Card';\nimport PostCommentForm from './PostCommentForm';\nimport PostComments from './PostComments';\n\nfunction Post({ user }) {\n\tconst { postId } = useParams();\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\tconst [getPost, isGettingPost] = useIsLoading(fetchAndSetPostWithComments);\n\n\tconst [postWithComments, setPostWithComments] = useState({});\n\n\tasync function fetchPostComments(postId) {\n\t\ttry {\n\t\t\tconst data = await getData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}/comments`\n\t\t\t);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else {\n\t\t\t\treturn data.comments;\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\tasync function fetchAndSetPostWithComments(isMounted, postId) {\n\t\tasync function fetchPost(postId) {\n\t\t\ttry {\n\t\t\t\tconst data = await getData(\n\t\t\t\t\t`${process.env.REACT_APP_API_URL}/posts/${postId}`\n\t\t\t\t);\n\t\t\t\tif (data.err) {\n\t\t\t\t\tif ([401, 404].includes(data.err.status)) {\n\t\t\t\t\t\thistory.push('/');\n\t\t\t\t\t}\n\t\t\t\t\thandleExpressErr(data.err);\n\t\t\t\t} else {\n\t\t\t\t\treturn data.post;\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t\t]);\n\t\t\t}\n\t\t}\n\n\t\tif (isMounted) {\n\t\t\tconst post = await fetchPost(postId);\n\t\t\tconst postComments = await fetchPostComments(postId);\n\t\t\tsetPostWithComments({ ...post, comments: postComments });\n\t\t}\n\t}\n\n\tasync function updatePostComments(postId) {\n\t\tif (isMounted) {\n\t\t\tconst postComments = await fetchPostComments(postId);\n\t\t\tsetPostWithComments({ ...postWithComments, comments: postComments });\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tgetPost(isMounted, postId);\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isMounted, postId]);\n\n\treturn isGettingPost ? (\n\t\t<BootstrapSpinner type={'border'} size={'2em'} />\n\t) : postWithComments._id ? (\n\t\t<section className=\"mb-4\">\n\t\t\t<Card item={postWithComments} />\n\t\t\t{user && postWithComments.published && (\n\t\t\t\t<PostCommentForm\n\t\t\t\t\tpostId={postId}\n\t\t\t\t\tupdatePostComments={updatePostComments}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<PostComments postComments={postWithComments.comments} />\n\t\t</section>\n\t) : null;\n}\n\nPost.propTypes = {\n\tuser: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]).isRequired,\n};\n\nexport default Post;\n","import { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport useIsLoading from '../lib/useIsLoading';\nimport { postData, handleExpressErr } from '../lib/helpers';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignUpForm() {\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\tconst [submitFormData, isSubmitting] = useIsLoading(postData);\n\n\tconst [state, setState] = useState({\n\t\tfirstName: '',\n\t\tlastName: '',\n\t\tusername: '',\n\t\tpassword: '',\n\t\tconfirmPassword: '',\n\t});\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tconst data = await submitFormData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tif (data.err) {\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else if (data.errors) {\n\t\t\t\tisMounted &&\n\t\t\t\t\tsetState({\n\t\t\t\t\t\tfirstName: data.userFormData.firstName,\n\t\t\t\t\t\tlastName: data.userFormData.lastName,\n\t\t\t\t\t\tusername: data.userFormData.username,\n\t\t\t\t\t\tpassword: '',\n\t\t\t\t\t\tconfirmPassword: '',\n\t\t\t\t\t});\n\t\t\t\twindow.flashes(data.errors);\n\t\t\t} else {\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'You have successfuly signed up', type: 'success' },\n\t\t\t\t]);\n\t\t\t\thistory.push('/');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"firstName\">First name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"firstName\"\n\t\t\t\t\tplaceholder=\"John\"\n\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\tvalue={state.firstName}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"255\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"lastName\">Last name</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"lastName\"\n\t\t\t\t\tplaceholder=\"Doe\"\n\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\tvalue={state.lastName}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"255\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tplaceholder=\"johnDoe01\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tvalue={state.username}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"20\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"confirmPassword\">Password confirmation</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\tvalue={state.confirmPassword}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nexport default SignUpForm;\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport useIsMounted from '../lib/useIsMounted';\nimport useIsLoading from '../lib/useIsLoading';\nimport { postData, handleExpressErr } from '../lib/helpers';\nimport SubmitBtn from './SubmitBtn';\n\nfunction SignInForm({ setUser }) {\n\tconst history = useHistory();\n\n\tconst isMounted = useIsMounted();\n\tconst [submitFormData, isSubmitting] = useIsLoading(postData);\n\n\tconst [state, setState] = useState({\n\t\tusername: '',\n\t\tpassword: '',\n\t});\n\n\tfunction handleInputChange(e) {\n\t\tconst target = e.target;\n\t\tconst name = target.name;\n\t\tconst value = target.value;\n\t\tsetState((prevState) => ({ ...prevState, [name]: value }));\n\t}\n\n\tasync function handleSubmit(e) {\n\t\ttry {\n\t\t\te.preventDefault();\n\t\t\tconst data = await submitFormData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/auth/sign-in`,\n\t\t\t\tstate\n\t\t\t);\n\t\t\tif (data.err) {\n\t\t\t\tisMounted && setState((prevState) => ({ ...prevState, password: '' }));\n\t\t\t\thandleExpressErr(data.err);\n\t\t\t} else {\n\t\t\t\tlocalStorage.setItem('jwt', data.token);\n\t\t\t\tsetUser(data.user);\n\t\t\t\twindow.flashes([\n\t\t\t\t\t{ msg: 'You have successfuly signed in', type: 'success' },\n\t\t\t\t]);\n\t\t\t\thistory.push('/');\n\t\t\t}\n\t\t} catch (err) {\n\t\t\twindow.flashes([\n\t\t\t\t{ msg: 'Something went wrong, please try again later.' },\n\t\t\t]);\n\t\t}\n\t}\n\n\treturn (\n\t\t<form onSubmit={handleSubmit}>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"username\">Username</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"text\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"username\"\n\t\t\t\t\tplaceholder=\"johnDoe01\"\n\t\t\t\t\tname=\"username\"\n\t\t\t\t\tvalue={state.username}\n\t\t\t\t\trequired\n\t\t\t\t\tmaxLength=\"20\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"form-group\">\n\t\t\t\t<label htmlFor=\"password\">Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\tid=\"password\"\n\t\t\t\t\tname=\"password\"\n\t\t\t\t\tvalue={state.password}\n\t\t\t\t\trequired\n\t\t\t\t\tminLength=\"8\"\n\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<SubmitBtn isSubmitting={isSubmitting} />\n\t\t</form>\n\t);\n}\n\nSignInForm.propTypes = {\n\tsetUser: PropTypes.func.isRequired,\n};\n\nexport default SignInForm;\n","import { useState, useEffect } from 'react';\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\nimport { getData } from './lib/helpers';\nimport Bus from './utils/Bus';\nimport BootstrapSpinner from './components/BootstrapSpinner';\nimport Navbar from './components/Navbar';\nimport Flashes from './components/Flashes';\nimport Posts from './components/Posts';\nimport Post from './components/Post';\nimport SignUpForm from './components/SignUpForm';\nimport SignInForm from './components/SignInForm';\nimport './App.css';\n\nfunction App() {\n\tconst history = useHistory();\n\n\tconst [user, setUser] = useState(null);\n\n\tfunction signOut() {\n\t\tlocalStorage.removeItem('jwt');\n\t\tsetUser(false);\n\t\twindow.flashes([\n\t\t\t{ msg: 'You have successfully signed out', type: 'success' },\n\t\t]);\n\t\thistory.push('/');\n\t}\n\n\tuseEffect(() => {\n\t\twindow.flashes = (flashes) => Bus.emit('flashes', flashes);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tasync function getCurrentUser() {\n\t\t\tconst data = await getData(\n\t\t\t\t`${process.env.REACT_APP_API_URL}/users/current-user`\n\t\t\t);\n\t\t\tsetUser(data.user);\n\t\t}\n\t\tgetCurrentUser();\n\t\tconst intervalId = setInterval(getCurrentUser, 30000);\n\t\treturn () => clearInterval(intervalId);\n\t}, []);\n\n\treturn user === null ? (\n\t\t<BootstrapSpinner type={'grow'} size={'3em'} />\n\t) : (\n\t\t<>\n\t\t\t<Navbar user={user} signOut={signOut} />\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t<div className=\"col-md-8\">\n\t\t\t\t\t\t<Flashes />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<main className=\"h-100\">\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t<Redirect to=\"/posts\" />\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts\">\n\t\t\t\t\t\t<div className=\"h-100 container\">\n\t\t\t\t\t\t\t<div className=\"h-100 row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-8 position-relative\">\n\t\t\t\t\t\t\t\t\t<Posts />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/posts/:postId\">\n\t\t\t\t\t\t<div className=\"h-100 container\">\n\t\t\t\t\t\t\t<div className=\"h-100 row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-8 position-relative\">\n\t\t\t\t\t\t\t\t\t<Post user={user} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/sign-up\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<SignUpForm />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Route>\n\t\t\t\t\t<Route exact path=\"/sign-in\">\n\t\t\t\t\t\t<div className=\"container\">\n\t\t\t\t\t\t\t<div className=\"row justify-content-center\">\n\t\t\t\t\t\t\t\t<div className=\"col-md-6\">\n\t\t\t\t\t\t\t\t\t<SignInForm setUser={setUser} />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Route>\n\t\t\t\t</Switch>\n\t\t\t</main>\n\t\t</>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport 'bootswatch/dist/litera/bootstrap.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nrequire('dotenv').config();\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<Router basename={process.env.PUBLIC_URL}>\n\t\t\t<App />\n\t\t</Router>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}